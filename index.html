<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration Form</title>
</head>
<body>
    <h1>User Registration Form</h1>
    <form id="registrationForm" action="/submit_registration" method="POST">
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username" value=""><br><br>

        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" value=""><br><br>

        <label for="phone">Phone:</label><br>
        <input type="tel" id="phone" name="phone" value=""><br><br>

        <label for="expires">Expires:</label><br>
        <input type="date" id="expires" name="expires" value=""><br><br>

        <label for="confirmed">Confirmed:</label><br>
        <input type="checkbox" id="confirmed" name="confirmed" value="true"><br><br>

        <input type="submit" value="Submit">
    </form>

    <script>
        // Fetch JSON data and populate form fields
        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                const latestEntry = data[data.length - 1]; // Assuming the latest entry has the most up-to-date information

                document.getElementById('username').value = latestEntry.username || '';
                document.getElementById('email').value = latestEntry.email || '';
                document.getElementById('phone').value = latestEntry.phone || '';
                document.getElementById('expires').value = latestEntry.expires || '';
                document.getElementById('confirmed').checked = latestEntry.confirmed === 'true';
            })
            .catch(error => console.error('Error fetching JSON:', error));
    </script>
</body>
</html>
